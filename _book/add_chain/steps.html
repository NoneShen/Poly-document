
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Common Steps for Header Sync · Gitbook Test</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-insert-logo/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="guideline.html" />
    
    
    <link rel="prev" href="elements.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">Introduction</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Development</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="readme.html">
            
                <a href="readme.html">
            
                    
                    Joing the Cross Chain Ecosystem
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="scenario.html">
            
                <a href="scenario.html">
            
                    
                    Two Scenarios
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="elements.html">
            
                <a href="elements.html">
            
                    
                    Essential Elements for Header Sync
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.1.3" data-path="steps.html">
            
                <a href="steps.html">
            
                    
                    Common Steps for Header Sync
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="guideline.html">
            
                <a href="guideline.html">
            
                    
                    Develop Guideline for Header Sync
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../call_contract/">
            
                <a href="../call_contract/">
            
                    
                    Calling the Cross Chain Smart Contract
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../call_contract/Interaction.html">
            
                <a href="../call_contract/Interaction.html">
            
                    
                    Cross Chain Interaction Between Chains
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="../call_contract/Interfaces.html">
            
                <a href="../call_contract/Interfaces.html">
            
                    
                    Interfaces Offered by Cross Chain Manager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="../call_contract/Example.html">
            
                <a href="../call_contract/Example.html">
            
                    
                    Example of Business Logic Smart Contract
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../FAQ/template.html">
            
                <a href="../FAQ/template.html">
            
                    
                    Integrating New Tokens
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="template.md">
            
                <span>
            
                    
                    Chapter1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="template.md">
            
                <span>
            
                    
                    Chapter2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="template.md">
            
                <span>
            
                    
                    Chapter3
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../FAQ/template.html">
            
                <a href="../FAQ/template.html">
            
                    
                    Integrating Poly Bridge to Websites
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="template.md">
            
                <span>
            
                    
                    Chapter1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="template.md">
            
                <span>
            
                    
                    Chapter2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.3" data-path="template.md">
            
                <span>
            
                    
                    Chapter3
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Glossary</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../GLOSSARY.html">
            
                <a href="../GLOSSARY.html">
            
                    
                    Glossary
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">FAQ</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../FAQ/template.html">
            
                <a href="../FAQ/template.html">
            
                    
                    Default header1
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Common Steps for Header Sync</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-anchor"></i><ul><li><span class="title-icon "></span><a href="#technical-flow-in-header-sync-scenario"><b></b>Technical Flow in Header Sync Scenario</a></li><ul><li><span class="title-icon "></span><a href="#overview"><b></b>Overview</a></li><li><span class="title-icon "></span><a href="#initialization"><b></b>Initialization</a></li><ul><li><span class="title-icon "></span><a href="#deploy-smart-contract"><b></b>Deploy Smart Contract</a></li><li><span class="title-icon "></span><a href="#new-chain-registration"><b></b>New Chain Registration</a></li><li><span class="title-icon "></span><a href="#update-registered-chain"><b></b>Update Registered Chain</a></li></ul><li><span class="title-icon "></span><a href="#interface-methods-registration"><b></b>Interface Methods Registration</a></li><ul><li><span class="title-icon "></span><a href="#register-block-sync-method-to-relayer"><b></b>Register block Sync Method to Relayer</a></li><li><span class="title-icon "></span><a href="#register-cross-chain-transaction-management-method-to-relayer"><b></b>Register Cross Chain Transaction management method to Relayer</a></li></ul><li><span class="title-icon "></span><a href="#genesis-header-synchronization"><b></b>Genesis Header Synchronization</a></li><ul><li><span class="title-icon "></span><a href="#synchronize-target-chains-genesis-header-to-poly"><b></b>Synchronize Target Chain&apos;s Genesis Header to Poly</a></li><li><span class="title-icon "></span><a href="#synchronize-polys-genesis-header-to-target-chain"><b></b>Synchronize Poly&apos;s Genesis Header to Target Chain</a></li></ul></ul></ul></div><a href="#technical-flow-in-header-sync-scenario" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 align="center" id="technical-flow-in-header-sync-scenario"><a name="technical-flow-in-header-sync-scenario" class="anchor-navigation-ex-anchor" href="#technical-flow-in-header-sync-scenario"><i class="fa fa-link" aria-hidden="true"></i></a>Technical Flow in Header Sync Scenario</h1>


<h2 id="overview"><a name="overview" class="anchor-navigation-ex-anchor" href="#overview"><i class="fa fa-link" aria-hidden="true"></i></a>Overview</h2>
<p>Adding a new chain to poly involves three main parts:</p>
<ul>
<li><strong>Initialization</strong> includes smart contract deployment and new chain registration. </li>
<li><strong>Interface methods registration</strong> to poly <a href="../GLOSSARY.html#relayer" class="glossary-term" title="A cross-chain information porter performs some of the most critical operations within the cross-chain. It acts as the medium of interaction between the side chain and the outside world.">relayer</a>.</li>
<li><strong>Genesis header synchronization</strong> involves synchronizing a  <a href="../GLOSSARY.html#side-chain" class="glossary-term" title="A chain that is interested in joining the poly cross-chain ecosystem">side chain</a> initial header to the relay chain and synchronizing a genesis header from the relay chain to the ccm contract deployed on the <a href="../GLOSSARY.html#side-chain" class="glossary-term" title="A chain that is interested in joining the poly cross-chain ecosystem">side chain</a>.</li>
</ul>
<p>Most of the operations such as smart contract deployment, <a href="../GLOSSARY.html#side-chain" class="glossary-term" title="A chain that is interested in joining the poly cross-chain ecosystem">side chain</a> registration, and <a href="../GLOSSARY.html#relayer" class="glossary-term" title="A cross-chain information porter performs some of the most critical operations within the cross-chain. It acts as the medium of interaction between the side chain and the outside world.">relayer</a> setup are now proceeded only by the poly team following general specifications. For how developers contribute, see <a href="guideline.html">Develop Guideline for Header Sync</a>.</p>
<h2 id="initialization"><a name="initialization" class="anchor-navigation-ex-anchor" href="#initialization"><i class="fa fa-link" aria-hidden="true"></i></a>Initialization</h2>
<h3 id="deploy-smart-contract"><a name="deploy-smart-contract" class="anchor-navigation-ex-anchor" href="#deploy-smart-contract"><i class="fa fa-link" aria-hidden="true"></i></a>Deploy Smart Contract</h3>
<p>The Poly Cross-Chain Smart Contract such as CCM, CCMP, CCD can be found in(Attach a Link to Core smart contract).</p>
<h3 id="new-chain-registration"><a name="new-chain-registration" class="anchor-navigation-ex-anchor" href="#new-chain-registration"><i class="fa fa-link" aria-hidden="true"></i></a>New Chain Registration</h3>
<p>After the registration process is complete and the <a href="../GLOSSARY.html#cross-chain-council" class="glossary-term" title="The Council formed by poly consensus nodes.">Cross Chain Council</a> approves the application, the chain officially becomes a part of the cross-chain ecosystem. The registration is accomplished using the trusted registered account by the poly team.</p>
<h3 id="update-registered-chain"><a name="update-registered-chain" class="anchor-navigation-ex-anchor" href="#update-registered-chain"><i class="fa fa-link" aria-hidden="true"></i></a>Update Registered Chain</h3>
<p>The registered account needs to send an update application to the relay chain. The <strong>updateSideChain</strong> method is used to send an application to update the registered information of a particular blockchain.</p>
<h2 id="interface-methods-registration"><a name="interface-methods-registration" class="anchor-navigation-ex-anchor" href="#interface-methods-registration"><i class="fa fa-link" aria-hidden="true"></i></a>Interface Methods Registration</h2>
<p>Register header sync and cross-chain management method to <a href="../GLOSSARY.html#relayer" class="glossary-term" title="A cross-chain information porter performs some of the most critical operations within the cross-chain. It acts as the medium of interaction between the side chain and the outside world.">relayer</a>. So that <a href="../GLOSSARY.html#relayer" class="glossary-term" title="A cross-chain information porter performs some of the most critical operations within the cross-chain. It acts as the medium of interaction between the side chain and the outside world.">relayer</a> can call them for every cross-chain event. The interface method can be found in <a href="guideline.html">Develop Guideline for Header Sync</a>.</p>
<h3 id="register-block-sync-method-to-relayer"><a name="register-block-sync-method-to-relayer" class="anchor-navigation-ex-anchor" href="#register-block-sync-method-to-relayer"><i class="fa fa-link" aria-hidden="true"></i></a>Register block Sync Method to Relayer</h3>
<p>Block header synchronization includes two interface methods: <strong>SyncGenesisHeader</strong> and <strong>SyncBlockHeader</strong>. The former method will only be called once, while the latter is the core method for conducting the cross-chain event and will be called consistently by the <a href="../GLOSSARY.html#relayer" class="glossary-term" title="A cross-chain information porter performs some of the most critical operations within the cross-chain. It acts as the medium of interaction between the side chain and the outside world.">relayer</a>.</p>
<h3 id="register-cross-chain-transaction-management-method-to-relayer"><a name="register-cross-chain-transaction-management-method-to-relayer" class="anchor-navigation-ex-anchor" href="#register-cross-chain-transaction-management-method-to-relayer"><i class="fa fa-link" aria-hidden="true"></i></a>Register Cross Chain Transaction management method to Relayer</h3>
<p>Register the interface method <strong>MakeDepositProposal</strong> to <a href="../GLOSSARY.html#relayer" class="glossary-term" title="A cross-chain information porter performs some of the most critical operations within the cross-chain. It acts as the medium of interaction between the side chain and the outside world.">relayer</a>. This method is the key for handling cross-chain transactions, and it tells the relayers how to ensure the legitimacy of cross-chain transactions by Merkle proof.</p>
<h2 id="genesis-header-synchronization"><a name="genesis-header-synchronization" class="anchor-navigation-ex-anchor" href="#genesis-header-synchronization"><i class="fa fa-link" aria-hidden="true"></i></a>Genesis Header Synchronization</h2>
<h3 id="synchronize-target-chains-genesis-header-to-poly"><a name="synchronize-target-chains-genesis-header-to-poly" class="anchor-navigation-ex-anchor" href="#synchronize-target-chains-genesis-header-to-poly"><i class="fa fa-link" aria-hidden="true"></i></a>Synchronize Target Chain&apos;s Genesis Header to Poly</h3>
<p>For Initializing <a href="../GLOSSARY.html#side-chain" class="glossary-term" title="A chain that is interested in joining the poly cross-chain ecosystem">side chain</a>, the <a href="../GLOSSARY.html#side-chain" class="glossary-term" title="A chain that is interested in joining the poly cross-chain ecosystem">side chain</a>&apos;s initial block header should be synchronized to the poly relay chain so that the consequent block headers of blocks that contain cross-chain events can be verified and synchronized.</p>
<h3 id="synchronize-polys-genesis-header-to-target-chain"><a name="synchronize-polys-genesis-header-to-target-chain" class="anchor-navigation-ex-anchor" href="#synchronize-polys-genesis-header-to-target-chain"><i class="fa fa-link" aria-hidden="true"></i></a>Synchronize Poly&apos;s Genesis Header to Target Chain</h3>
<p><a href="../GLOSSARY.html#poly-chain" class="glossary-term" title="The Relay chain in the cross-chain ecosystem. One of the crucial components of the cross-chain ecosystem. Each type of node is deployed and maintained by other individuals or organizations and has its unique governance and trust mechanism. The relay chain is responsible for connecting them, standardizing cross-chain data flow and interfaces, verifying the legitimacy of cross-chain data, etc.">Poly chain</a>&apos;s initial header should be synchronized to the <a href="../GLOSSARY.html#side-chain" class="glossary-term" title="A chain that is interested in joining the poly cross-chain ecosystem">side chain</a>&apos;s CCM contract. The initial block header should include epoch switching information of consensus nodes, from which height the cross-chain transaction from or to Cosmos subchain will be effective.</p>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; 2021 PolyNetwork all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">Last modification date&#xFF1A;
2021-12-30 14:38:33
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="elements.html" class="navigation navigation-prev " aria-label="Previous page: Essential Elements for Header Sync">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="guideline.html" class="navigation navigation-next " aria-label="Next page: Develop Guideline for Header Sync">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Common Steps for Header Sync","level":"2.1.3","depth":2,"next":{"title":"Develop Guideline for Header Sync","level":"2.1.4","depth":2,"path":"add_chain/guideline.md","ref":"add_chain/guideline.md","articles":[]},"previous":{"title":"Essential Elements for Header Sync","level":"2.1.2","depth":2,"path":"add_chain/elements.md","ref":"add_chain/elements.md","articles":[]},"dir":"ltr"},"config":{"plugins":["expandable-chapters","custom-favicon","insert-logo","tbfed-pagefooter","hide-element","anchor-navigation-ex","-lunr","-search","search-pro","github","code","heading-anchors","-highlight","prism","prism-themes"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright &copy 2021 PolyNetwork","modify_label":"Last modification date：","modify_format":"YYYY-MM-DD HH:mm:ss"},"prism":{"css":["prismjs/themes/prism-okaidia.css"]},"github":{"url":"https://github.com/polynetwork"},"search-pro":{},"code":{"copyButtons":true},"hide-element":{"elements":[".gitbook-link"]},"fontsettings":{"theme":"white","family":"sans","size":2},"heading-anchors":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-anchor","level1Icon":"fa fa-hand-o-right","level2Icon":"fa fa-hand-o-right","level3Icon":"fa fa-hand-o-right","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":false},"favicon":"resources/favicon.ico","prism-themes":{},"custom-favicon":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"insert-logo":{"style":"background: none; max-height: 30px; min-height: 30px","url":"/resources/logo.svg"},"expandable-chapters":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Gitbook Test","gitbook":"*","theme-default":{"showLevel":true}},"file":{"path":"add_chain/steps.md","mtime":"2021-12-30T06:38:33.632Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-12-30T06:50:42.216Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-insert-logo/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/1.2.1/anchor.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-heading-anchors/anchor-style.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

